<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>Marine VHF</title>
	<link rel="stylesheet" href="css/style.css">
	<script>
		(function() {
			const savedTheme = localStorage.getItem('radio-theme') || 'original';
			document.documentElement.setAttribute('data-theme', savedTheme);
		})();
	</script>
</head>
<body data-squelch-attack="150" data-squelch-hang="500" data-squelch-hysteresis="20">
	<!-- Theme Switcher -->
	<div class="theme-switcher">
		<select id="theme-select" aria-label="Select theme">
			<option value="original">ğŸ”µ Tech Blue</option>
			<option value="dark">ğŸŒ‘ Dark Mode</option>
			<option value="sunset">ğŸŒ… Warm Sunset</option>
			<option value="ocean">ğŸŒŠ Ocean Breeze</option>
			<option value="lavender">ğŸ’œ Soft Lavender</option>
			<option value="forest">ğŸŒ² Earthy Forest</option>
			<option value="cream">â˜• Cream & Coffee</option>
		</select>
	</div>

	<a href="index.html" class="back-btn">â† Back</a>

	<div class="header">
		<h1>âš“ Marine VHF</h1>
		<p class="subtitle">156-162 MHz</p>
	</div>

	<!-- Frequency Display -->
	<div class="card frequency-display">
		<div>
			<span class="frequency-value" id="freq-display">---</span>
			<span class="frequency-unit">MHz</span>
		</div>
		<div class="signal-meter">
			<div class="signal-bar-container">
				<div class="signal-bar" id="signal-bar" style="width: 0%"></div>
				<div class="squelch-threshold" id="squelch-threshold" style="left: 0%"></div>
			</div>
			<div class="signal-value">Signal: <span id="signal-value">0</span></div>
		</div>
		<div class="squelch-control-inline">
			<input type="range" id="squelch-slider" min="0" max="300" value="0">
			<div class="squelch-info">
				<span class="squelch-label">Squelch</span>
				<span class="squelch-value" id="squelch-value">0</span>
			</div>
		</div>
	</div>

	<!-- Emergency Channel -->
	<div class="card" style="border: 2px solid var(--danger);">
		<div class="card-title" style="color: var(--danger);">ğŸ†˜ Emergency Channel</div>
		<div class="presets-grid">
			<button class="preset-btn" data-preset="156.8M" style="border-color: var(--danger); grid-column: span 2;">
				<span class="freq" style="font-size: 1.25rem;">Channel 16</span>
				<span class="name">156.800 MHz - Distress & Calling</span>
			</button>
		</div>
	</div>

	<!-- Common Channels -->
	<div class="card">
		<div class="card-title">Common Channels</div>
		<div class="presets-grid">
			<button class="preset-btn" data-preset="156.3M">
				<span class="freq">Channel 6</span>
				<span class="name">Ship-to-ship</span>
			</button>
			<button class="preset-btn" data-preset="156.45M">
				<span class="freq">Channel 9</span>
				<span class="name">Calling</span>
			</button>
			<button class="preset-btn" data-preset="156.55M">
				<span class="freq">Channel 11</span>
				<span class="name">VTS</span>
			</button>
			<button class="preset-btn" data-preset="156.6M">
				<span class="freq">Channel 12</span>
				<span class="name">Port/VTS</span>
			</button>
			<button class="preset-btn" data-preset="156.65M">
				<span class="freq">Channel 13</span>
				<span class="name">Bridge-to-bridge</span>
			</button>
			<button class="preset-btn" data-preset="156.7M">
				<span class="freq">Channel 14</span>
				<span class="name">Port</span>
			</button>
			<button class="preset-btn" data-preset="161.65M">
				<span class="freq">Channel 70</span>
				<span class="name">DSC (Digital)</span>
			</button>
			<button class="preset-btn" data-preset="157.1M">
				<span class="freq">Channel 22</span>
				<span class="name">Coast Guard</span>
			</button>
		</div>
		<div class="antenna-guide">
			ğŸ“¶ Antenna: <strong>~46 cm</strong>
		</div>
	</div>

	<!-- Manual Tuning -->
	<div class="card">
		<div class="card-title">Manual Tuning</div>
		<div class="tuning-controls">
			<div class="tune-btn-group">
				<button class="tune-btn" data-tune="-0.05">-50k</button>
				<button class="tune-btn" data-tune="-0.025">-25k</button>
			</div>
			<div class="tune-btn-group">
				<button class="tune-btn" data-tune="0.025">+25k</button>
				<button class="tune-btn" data-tune="0.05">+50k</button>
			</div>
		</div>
		<div class="freq-input-group">
			<input type="text" class="freq-input" id="freq-input" placeholder="E.g. 156.8M">
			<button class="set-btn" id="set-freq-btn">Set</button>
		</div>
	</div>

	<!-- Settings -->
	<div class="card">
		<div class="card-title">Settings</div>
		<div class="settings-row">
			<div class="setting-group">
				<label>Modulation</label>
				<select id="mod-select">
					<option value="f" selected>FM (NFM)</option>
					<option value="w">WBFM</option>
				</select>
			</div>
			<div class="setting-group">
				<label>Gain</label>
				<select id="gain-select">
					<option value="auto">Auto</option>
				</select>
			</div>
		</div>
		<div class="checkbox-group">
			<input type="checkbox" id="autogain-check" checked>
			<label for="autogain-check">Automatic gain control</label>
		</div>
	</div>

	<!-- Audio Player -->
	<div class="audio-player">
		<div class="player-controls">
			<button class="player-btn player-btn-play" id="player-btn-play">â–¶ï¸ Start Listening</button>
			<button class="player-btn player-btn-live" id="player-btn-live"><span class="live-dot"></span> Sync</button>
		</div>
		<div class="player-status" id="player-status">Press Start to listen</div>
		<audio id="audio-player" preload="none">
			<source src="/stream.mp3" type="audio/mpeg">
		</audio>
	</div>

	<script>
		const themeSelect = document.getElementById('theme-select');
		themeSelect.value = localStorage.getItem('radio-theme') || 'original';
		themeSelect.addEventListener('change', function() {
			document.documentElement.setAttribute('data-theme', this.value);
			localStorage.setItem('radio-theme', this.value);
		});
	</script>
	<script src="js/radio.js"></script>
</body>
</html>
